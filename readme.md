# WebDAV Sync - Автоматизация бэкапов и других файлов в облако

Инструмент для автоматической синхронизации файлов бэкапов 1С с облачным хранилищем через протокол WebDAV. Программа находит самый свежий файл бэкапа в указанной директории и загружает его в облако, обеспечивая безопасное хранение и ежедневное резервное копирование.

## Назначение

- **Автоматизация бэкапов**: Ежедневная синхронизация файлов бэкапов 1С в облачное хранилище
- **Безопасность**: Централизованное хранение резервных копий вне локального сервера
- **Надежность**: Автоматическая проверка интернет-соединения перед синхронизацией
- **Логирование**: Подробное логирование всех операций в файл

## Требования

- Go 1.24+ (или актуальная версия)
- Доступ к WebDAV серверу (Koofr, Mail.ru, Yandex.Disk и т.д.)
- Стабильное интернет-соединение

## Установка

1. Перейдите в [Releases](https://github.com/hakuromi/webdav-sync/releases)
2. Скачайте последнюю версию `webdav-sync.exe`
3. Поместите файл в нужную директорию
4. Создайте `config.json` (см. раздел Конфигурация)
## Конфигурация

1. Создайте `config.json`:
```json
{
    "localdir": "C:\Backups\",
    "remoteurl": "https://app.koofr.net/dav/Koofr",
    "remotepath": "/backups/1c-backup.dt",
    "username": "your_login",
    "password": "your_password"
}
```

### Параметры конфигурации

- `localdir` - Путь к локальной директории с бэкапами
- `remoteurl` - URL вашего WebDAV сервера
- `remotepath` - Путь к файлу на сервере (куда будет загружен бэкап)
- `username` - Логин для доступа к WebDAV
- `password` - Пароль для доступа к WebDAV

## Запуск

Запустите webdav-sync.exe. В поле config-файла введите полный путь к вашему config.json
```bash
webdav-sync.exe config.json
```
## Автоматизация (Планировщик Windows)

Для ежедневного выполнения синхронизации настройте Планировщик заданий Windows:

1. Откройте "Планировщик заданий" (Task Scheduler)
2. Создайте новое задание
3. Настройте:
   - **Триггер**: Ежедневно в нужное время (например, 02:00)
   - **Действие**: Запуск программы `webdav-sync.exe` с аргументом `config.json`
   - **Рабочая папка**: Путь к директории с программой